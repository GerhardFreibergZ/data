const Record = mongoose.model('Record', RecordSchema);


const swaggerUi = require('swagger-ui-express');


const swaggerJsdoc = require('swagger-jsdoc');

const app = express();
app.use(express.json()); 

// Definir la especificaci√≥n de Swagger usando swagger-jsdoc
const swaggerSpec = swaggerJsdoc({
  definition: {
    openapi: "3.0.0",
    info: {
      title: "Node MongoDB API",
      version: "1.0.0",
      description: `
      Bienvenido a la API DE REGISTROS.
      
      Esta API te permite interactuar con MongoDB a trav√©s de Node.js.
      
      - üí° Usa los m√©todos POST para crear ,
      - üì• Usa los m√©todos GET para consultas .
      - ‚ö† Usa los m√©todos PATCH y DELETE con cuidado, ya que modifican datos en la base de datos.
      
      Nota: Aseg√∫rate de tener la API corriendo localmente antes de probar los endpoints.
      `,
    },
    servers: [
      {
        url: "http://localhost:3000",
        description: "Servidor local",
      },
    ],
  },
  apis: ["./index.js"],  
});

module.exports = swaggerSpec;
app.use('/api-docs/', swaggerUi.serve, swaggerUi.setup(swaggerSpec));